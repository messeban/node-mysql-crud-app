<% include partials/header.ejs %>

<h1 class="display-1">Syndicats</h1>
<a class="btn btn-primary btn-lg" href="/addSyndic" title="Ajouter Syndicat">Ajouter Syndicat</a>

</nav>
<div id="main">
        <span style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776;</span>
      </div>

   <div class="table-wrapper">
        <% if (syndics.length > 0) {%>
            <table class="table table-bordered table-dark">
                <thead class="thead-dark">
                        <tr>
                                <th scope="col"><a href="/syndics/sortBy<%='id'%>">ID</a></th>
                                <th scope="col"><a href="/syndics/sortBy<%='nom'%>">Nom</a></th>
                                <th scope="col"><a href="/syndics/sortBy<%='email'%>">Email</a></th>
                                <th scope="col"><a href="/syndics/sortBy<%='adresse'%>">Adresse</a></th>
                                <th scope="col"><a href="/syndics/sortBy<%='commune'%>">Commune</a></th>
                                <th scope="col"><a href="/syndics/sortBy<%='code_postal'%>">Code Postal</a></th>
                                <th scope="col">Action</th>
                        </tr>
                    


                </thead>
                <tbody>
                    <% syndics.forEach((syndic, index) => { %>
                        <tr >
                            <th scope="row"><%= syndic.id %></th>
                            <td><%= syndic.nom %></td>
                            <td><%= syndic.email %></td>
                            <td><%= syndic.adresse %></td>
                            <td><%= syndic.commune %></td>
                            <td><%= syndic.code_postal %></td>
                            <td id="action">
                                <div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups">
                                    <div class="btn-group mr-2 btn-group-sm" role="group" aria-label="First group">
                                        <button type="button"  class="btn  btn-success" onclick="window.location.href='/editSyndic/<%= syndic.id %>'">Edit</button>
                                        <button type="button"  class="btn  btn-danger" onclick="window.location.href='/deleteSyndic/<%= syndic.id %>'">Delete</button>
                                        
                                    </div></td>
                        </tr>
                    <% }) %>
                </tbody>
            </table>
        <% } else { %>
            <p class="text-center">No syndics found. Go <a href="/immeubles" >here</a> to add syndics.</p>
        <% } %>
    </div>
</div>

<script>
        function openNav() {
            document.getElementById("mySidenav").style.width = "300px";
            document.getElementById("main").style.marginLeft = "300px";
            document.body.style.backgroundColor = "rgba(0,0,0,0.4)";
        }
        
        function closeNav() {
            document.getElementById("mySidenav").style.width = "0";
            document.getElementById("main").style.marginLeft= "0";
            document.body.style.backgroundColor = "white";
        }

        </script>
</body>
</html>